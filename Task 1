import functools

def partial(func, *p_args, **p_kwargs):
    if not callable(func):
        raise TypeError("first argument must be callable")

    @functools.wraps(func)
    def wrapper(*call_args, **call_kwargs):
        combined_kwargs = {}
        combined_kwargs.update(p_kwargs)
        combined_kwargs.update(call_kwargs)

        return func(*p_args, *call_args, **combined_kwargs)

    wrapper.func = func
    wrapper.args = p_args
    wrapper.keywords = p_kwargs if p_kwargs else None

    return wrapper


def power(base, exponent):
    return base ** exponent

square = partial(power, exponent=2)
cube = partial(power, exponent=3)

print(square(5))
print(cube(5)) 


def add(a, b, c):
    return a + b + c

add5 = partial(add, 5)
print(add5(2, 3))

def greet(greeting="Hi", name="friend"):
    return f"{greeting}, {name}"

hello_alice = partial(greet, greeting="Hello", name="Alice")
print(hello_alice())
print(hello_alice(name="Bob"))
